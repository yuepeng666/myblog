<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>异步创建加载script</title>
      <link href="/2019/10/14/%E5%BC%82%E6%AD%A5%E5%88%9B%E5%BB%BA%E5%8A%A0%E8%BD%BDscript/"/>
      <url>/2019/10/14/%E5%BC%82%E6%AD%A5%E5%88%9B%E5%BB%BA%E5%8A%A0%E8%BD%BDscript/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="never"><h1 id="异步创建加载script"><a href="#异步创建加载script" class="headerlink" title="异步创建加载script"></a>异步创建加载script</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;*&#125; url 需要引用的script标签的地址</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * @param &#123;*&#125; callback 创建完成script元素回调</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * @returns</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createScript</span>(<span class="params">url, callback</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> scriptEl = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line"></span><br><span class="line">  scriptEl.charset = <span class="string">'utf-8'</span></span><br><span class="line"></span><br><span class="line">  scriptEl.src = url;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// document.body.appendChild(scriptEl);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 添加到head</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> head = <span class="built_in">document</span>.head || <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">  head.appendChild(scriptEl);</span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不支持ie8及以下</span></span><br><span class="line"></span><br><span class="line">    scriptEl.addEventListener(</span><br><span class="line"></span><br><span class="line">      <span class="string">'load'</span>,</span><br><span class="line"></span><br><span class="line">      e =&gt; &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!callback) &#123;</span><br><span class="line"></span><br><span class="line">          resolve(e);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">          callback()</span><br><span class="line"></span><br><span class="line">          resolve(e);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    scriptEl.addEventListener(</span><br><span class="line"></span><br><span class="line">      <span class="string">'error'</span>,</span><br><span class="line"></span><br><span class="line">      e =&gt; &#123;</span><br><span class="line"></span><br><span class="line">        removeScript(scriptEl)</span><br><span class="line"></span><br><span class="line">        reject(e);</span><br><span class="line"></span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> promise;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * 移除script标签</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * @param scriptEl script dom</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeScript</span>(<span class="params">scriptEl</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.body.removeChild(scriptEl);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createScript;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>scss一些笔记</title>
      <link href="/2019/10/14/scss%E4%B8%80%E4%BA%9B%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/10/14/scss%E4%B8%80%E4%BA%9B%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="never"><h1 id="scss-for循环"><a href="#scss-for循环" class="headerlink" title="scss for循环"></a>scss for循环</h1><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$color-list</span>: <span class="number">#5e83fb</span>, <span class="number">#f7da47</span>, <span class="number">#58ca9a</span>, <span class="number">#ee706d</span>, <span class="number">#ffa502</span>, <span class="number">#808e9b</span>;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">for</span> <span class="variable">$i</span> from 1 to 7 &#123;</span><br><span class="line">  <span class="selector-class">.grid-</span>#&#123;<span class="variable">$i</span>&#125; &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: nth(<span class="variable">$color-list</span>, <span class="variable">$i</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> scss </category>
          
      </categories>
      
      
        <tags>
            
            <tag> scss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue cli 引入cdn加速</title>
      <link href="/2019/10/14/vue-cli-%E5%BC%95%E5%85%A5cdn%E5%8A%A0%E9%80%9F/"/>
      <url>/2019/10/14/vue-cli-%E5%BC%95%E5%85%A5cdn%E5%8A%A0%E9%80%9F/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="never"><h1 id="vue-config-js-示例"><a href="#vue-config-js-示例" class="headerlink" title="vue.config.js 示例"></a>vue.config.js 示例</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> TerserPlugin = <span class="built_in">require</span>(<span class="string">'terser-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vueV = <span class="built_in">require</span>(<span class="string">'vue/package.json'</span>).version;</span><br><span class="line"><span class="keyword">const</span> routerV = <span class="built_in">require</span>(<span class="string">'vue-router/package.json'</span>).version;</span><br><span class="line"><span class="keyword">const</span> vuexV = <span class="built_in">require</span>(<span class="string">'vuex/package.json'</span>).version;</span><br><span class="line"><span class="keyword">const</span> axiosV = <span class="built_in">require</span>(<span class="string">'axios/package.json'</span>).version;</span><br><span class="line"><span class="keyword">const</span> elementV = <span class="built_in">require</span>(<span class="string">'element-ui/package.json'</span>).version;</span><br><span class="line"><span class="keyword">const</span> cookieV = <span class="built_in">require</span>(<span class="string">'js-cookie/package.json'</span>).version;</span><br><span class="line"><span class="keyword">const</span> nprogressV = <span class="built_in">require</span>(<span class="string">'nprogress/package.json'</span>).version;</span><br><span class="line"><span class="keyword">const</span> echartsV = <span class="built_in">require</span>(<span class="string">'echarts/package.json'</span>).version;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> isProduction = process.env.NODE_ENV === <span class="string">'production'</span>;</span><br><span class="line"><span class="keyword">const</span> isCdn = <span class="literal">true</span>;  <span class="comment">// 是否开启cdn模式</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> logTxt =</span><br><span class="line">  process.env.NODE_ENV === <span class="string">'development'</span></span><br><span class="line">    ? <span class="string">'编译开发'</span></span><br><span class="line">    : process.env.VUE_APP_FLAG === <span class="string">'test'</span></span><br><span class="line">      ? <span class="string">'打包测试'</span></span><br><span class="line">      : <span class="string">'打包线上'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(logTxt);</span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">dir</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> path.join(__dirname, dir)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 需要忽略打包的 npm包</span></span><br><span class="line"><span class="keyword">const</span> Externals = &#123;</span><br><span class="line">  <span class="string">'vue'</span>: <span class="string">'Vue'</span>,</span><br><span class="line">  <span class="string">'vuex'</span>: <span class="string">'Vuex'</span>,</span><br><span class="line">  <span class="string">'vue-router'</span>: <span class="string">'VueRouter'</span>,</span><br><span class="line">  <span class="string">'axios'</span>: <span class="string">'axios'</span>,</span><br><span class="line">  <span class="string">'element-ui'</span>: <span class="string">'ELEMENT'</span>,</span><br><span class="line">  <span class="string">'js-cookie'</span>: <span class="string">'Cookies'</span>,</span><br><span class="line">  <span class="string">'nprogress'</span>: <span class="string">'NProgress'</span>,</span><br><span class="line">  <span class="string">'echarts'</span>: <span class="string">'echarts'</span>,</span><br><span class="line">  </span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// cdn地址</span></span><br><span class="line"><span class="keyword">const</span> CDN = &#123;</span><br><span class="line">  css: [</span><br><span class="line">    <span class="comment">// `https://cdn.jsdelivr.net/npm/element-ui@$&#123;elementV&#125;/lib/theme-chalk/index.min.css`,</span></span><br><span class="line">    <span class="string">`https://cdn.bootcss.com/element-ui/<span class="subst">$&#123;elementV&#125;</span>/theme-chalk/index.css`</span>,</span><br><span class="line">    <span class="string">`https://cdn.bootcss.com/nprogress/<span class="subst">$&#123;nprogressV&#125;</span>/nprogress.min.css`</span>,</span><br><span class="line"></span><br><span class="line">  ],</span><br><span class="line">  js: [</span><br><span class="line">    <span class="comment">// `https://cdn.jsdelivr.net/npm/vue@$&#123;vueV&#125;/dist/vue.min.js`,</span></span><br><span class="line">    <span class="comment">// `https://cdn.jsdelivr.net/npm/vuex@$&#123;vuexV&#125;/dist/vuex.min.js`,</span></span><br><span class="line">    <span class="comment">// `https://cdn.jsdelivr.net/npm/vue-router@$&#123;routerV&#125;/dist/vue-router.min.js`,</span></span><br><span class="line">    <span class="string">`https://cdn.bootcss.com/vue/<span class="subst">$&#123;vueV&#125;</span>/vue.min.js`</span>,</span><br><span class="line">    <span class="string">`https://cdn.bootcss.com/vuex/<span class="subst">$&#123;vuexV&#125;</span>/vuex.min.js`</span>,</span><br><span class="line">    <span class="string">`https://cdn.bootcss.com/vue-router/<span class="subst">$&#123;routerV&#125;</span>/vue-router.min.js`</span>,</span><br><span class="line">    <span class="comment">//  从jsdeliver 引入完整element-ui</span></span><br><span class="line">    <span class="comment">// `https://cdn.jsdelivr.net/npm/element-ui@/$&#123;elementV&#125;/lib/index.min.js`,</span></span><br><span class="line">    <span class="comment">// 从bootcdn</span></span><br><span class="line">    <span class="string">`https://cdn.bootcss.com/element-ui/<span class="subst">$&#123;elementV&#125;</span>/index.js`</span>,</span><br><span class="line">    <span class="string">`https://cdn.bootcss.com/echarts/<span class="subst">$&#123;echartsV&#125;</span>/echarts.min.js`</span>,</span><br><span class="line">    <span class="string">`https://cdn.bootcss.com/axios/<span class="subst">$&#123;axiosV&#125;</span>/axios.min.js`</span>,</span><br><span class="line">    <span class="string">`https://cdn.bootcss.com/js-cookie/<span class="subst">$&#123;cookieV&#125;</span>/js.cookie.min.js`</span>,</span><br><span class="line">    <span class="string">`https://cdn.bootcss.com/nprogress/<span class="subst">$&#123;nprogressV&#125;</span>/nprogress.min.js`</span>,</span><br><span class="line"></span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  publicPath: <span class="string">'/'</span>, <span class="comment">// 公共路径</span></span><br><span class="line">  outputDir: process.env.VUE_APP_FLAG === <span class="string">'test'</span> ? <span class="string">'test-dist'</span> : <span class="string">'dist'</span>, <span class="comment">// 不同的环境打不同包名</span></span><br><span class="line">  lintOnSave: <span class="literal">false</span>, <span class="comment">// 关闭eslint</span></span><br><span class="line">  productionSourceMap: <span class="literal">false</span>, <span class="comment">// 如果你不需要生产环境的 source map，可以将其设置为 false 以加速生产环境构建</span></span><br><span class="line">  parallel: <span class="built_in">require</span>(<span class="string">'os'</span>).cpus().length &gt; <span class="number">1</span>, <span class="comment">// 构建时开启多进程处理babel编译</span></span><br><span class="line">  <span class="comment">// 这里写loader</span></span><br><span class="line">  chainWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// production打包才使用CDN</span></span><br><span class="line">    <span class="keyword">if</span> (isProduction &amp;&amp; isCdn) &#123;</span><br><span class="line">      config.plugin(<span class="string">'html'</span>)</span><br><span class="line">        .tap(<span class="function"><span class="params">args</span> =&gt;</span> &#123;</span><br><span class="line">          args[<span class="number">0</span>].cdn = CDN;</span><br><span class="line">          <span class="keyword">return</span> args;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// config.resolve.alias</span></span><br><span class="line">    <span class="comment">//   .set('assets', resolve('src/assets'))</span></span><br><span class="line">    <span class="comment">//   .set('pages', resolve('src/pages'))</span></span><br><span class="line">    <span class="comment">//   .set('components', resolve('src/components'))</span></span><br><span class="line">    <span class="comment">//   .set('utils', resolve('src/utils'))</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 这里回覆盖webpack默认配置</span></span><br><span class="line">  configureWebpack: <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// production模式</span></span><br><span class="line">    <span class="keyword">if</span> (isProduction &amp;&amp; isCdn) &#123;</span><br><span class="line">      <span class="comment">// 忽略的包</span></span><br><span class="line">      config.externals = Externals</span><br><span class="line">      <span class="comment">// 打包生产.gz包</span></span><br><span class="line">      <span class="comment">// config.plugins.push(new CompressionWebpackPlugin(&#123;</span></span><br><span class="line">      <span class="comment">//   algorithm: 'gzip',</span></span><br><span class="line">      <span class="comment">//   test: new RegExp('\\.(' + productionGzipExtensions.join('|') + ')$'),</span></span><br><span class="line">      <span class="comment">//   threshold: 10240,</span></span><br><span class="line">      <span class="comment">//   minRatio: 0.8</span></span><br><span class="line">      <span class="comment">// &#125;))</span></span><br><span class="line">      <span class="comment">// 添加自定义代码压缩配置</span></span><br><span class="line">      config.plugins.push(</span><br><span class="line">        <span class="keyword">new</span> TerserPlugin(&#123;</span><br><span class="line">          <span class="comment">// 是否开启多线程</span></span><br><span class="line">          parallel: <span class="literal">true</span>,</span><br><span class="line">          terserOptions: &#123;</span><br><span class="line">            <span class="comment">// 去除打印</span></span><br><span class="line">            compress: &#123;</span><br><span class="line">              warnings: <span class="literal">false</span>,</span><br><span class="line">              drop_console: <span class="literal">true</span>,</span><br><span class="line">              drop_debugger: <span class="literal">true</span>,</span><br><span class="line">              pure_funcs: [<span class="string">'console.log'</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// 去除注释，当设置为true时，会保留注释</span></span><br><span class="line">            <span class="comment">// 当然这个默认是false</span></span><br><span class="line">            output: &#123;</span><br><span class="line">              comments: <span class="literal">false</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;),</span><br><span class="line"></span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure> <!-- more -->]]></content>
      
      
      <categories>
          
          <category> vue webpack vue-cli </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue webpack vue-cli </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2019/06/25/TypeScript/"/>
      <url>/2019/06/25/TypeScript/</url>
      
        <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">interface SquareConfig &#123;</span><br><span class="line">  color?: string;</span><br><span class="line">  width?: number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ()后面的冒号规定的是返回值的类型</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createSquare</span>(<span class="params">config: SquareConfig</span>): </span>&#123;color: string; area: number&#125; &#123;</span><br><span class="line">  <span class="keyword">let</span> newSquare = &#123;<span class="attr">color</span>: <span class="string">"white"</span>, <span class="attr">area</span>: <span class="number">100</span>&#125;;</span><br><span class="line">  <span class="keyword">if</span> (config.color) &#123;</span><br><span class="line">    newSquare.color = config.color;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (config.width) &#123;</span><br><span class="line">    newSquare.area = config.width * config.width;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newSquare;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mySquare = createSquare(&#123;<span class="attr">color</span>: <span class="string">"black"</span>&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hexo部署到GitHub并添加个人域名</title>
      <link href="/2019/06/14/Hexo%E9%83%A8%E7%BD%B2%E5%88%B0GitHub%E5%B9%B6%E6%B7%BB%E5%8A%A0%E4%B8%AA%E4%BA%BA%E5%9F%9F%E5%90%8D/"/>
      <url>/2019/06/14/Hexo%E9%83%A8%E7%BD%B2%E5%88%B0GitHub%E5%B9%B6%E6%B7%BB%E5%8A%A0%E4%B8%AA%E4%BA%BA%E5%9F%9F%E5%90%8D/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="never"><h3 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h3><ol><li><p>从<a href="https://www.freenom.com/zh/index.html?lang=zh" target="_blank" rel="noopener">freenom</a>获取免费域名</p></li><li><p>添加域名解析:</p></li></ol><p><img src="https://ws1.sinaimg.cn/large/005R0tlAly1g40iod34m2j30v40cmnka.jpg" alt=""></p> <a id="more"></a><p>点击 ManageDomain&gt;&gt; ManageTools &gt;&gt; Nameservers</p><p><img src="https://ws1.sinaimg.cn/large/005R0tlAly1g40ir182m7j30nr0htglu.jpg" alt=""></p><p>在图示位置添加域名解析服务（本文使用 DnsPod 做域名解析）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f1g1ns1.dnspod.net</span><br><span class="line"></span><br><span class="line">f1g1ns2.dnspod.net</span><br></pre></td></tr></table></figure><ol start="3"><li>注册并登陆 DnsPod, 点击添加域名添加你申请的域名，点击已域名，随后点击添加记录</li></ol><p><img src="https://ws1.sinaimg.cn/large/005R0tlAly1g40iy6dov1j30rb090gly.jpg" alt=""></p><ol start="4"><li><p>主机记录：@， 记录类型： A，记录值： （ping 你的 github 账号获到取的 ip）</p><p><code>ping githubname.github.io</code></p></li><li><p>主机记录：www， 记录类型：CNAME，记录值：<br><code>yourgithubname.github.io</code></p></li><li><p>其他操作如图</p><p><img src="https://ws1.sinaimg.cn/large/005R0tlAly1g4d76ixx4tj30s00n5aat.jpg" alt=""></p></li></ol><h3 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h3><ol><li><p>在 hexo/source/目录下新建 CNAME 文件(必须大写)<br><img src="https://ws1.sinaimg.cn/large/005R0tlAly1g4d790t28lj308o0aggln.jpg" alt=""></p></li><li><p>打开 CNAME 文件在里面填入你获取到的域名</p></li><li><p>打开编辑_config.yml 在图示位置添加你的 github 项目地址</p><p><img src="https://ws1.sinaimg.cn/large/005R0tlAly1g4d7quhnayj30jb0e1t96.jpg" alt=""></p></li><li><p>运行如下命令部署 blog 到 github</p><p><code>hexo clean</code></p><p><code>hexo d</code></p></li><li><p>打开 github 项目进行如下操作</p></li></ol><p><img src="https://ws1.sinaimg.cn/large/005R0tlAly1g4d7df01oxj30ti0mdmy9.jpg" alt=""></p><p><img src="https://ws1.sinaimg.cn/large/005R0tlAly1g4d7e33ydcj30rl0kgq40.jpg" alt=""></p><ol><li>完成</li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常用的组件库</title>
      <link href="/2019/06/03/%E5%B8%B8%E7%94%A8%E7%9A%84%E7%BB%84%E4%BB%B6%E5%BA%93/"/>
      <url>/2019/06/03/%E5%B8%B8%E7%94%A8%E7%9A%84%E7%BB%84%E4%BB%B6%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<ol><li><p>进度条库’nprogress’ <code>npm i nprogress -S</code></p></li><li><p>webpack 压缩插件’terser-webpack-plugin’ <code>npm i terser-webpack-plugin -D</code></p><p>代码示例(以 vuecli3 为示例)：</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这里回覆盖webpack默认配置</span></span><br><span class="line">configureWebpack: <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// production模式</span></span><br><span class="line">  <span class="keyword">if</span> (isProduction) &#123;</span><br><span class="line">    <span class="comment">// 添加自定义代码压缩配置</span></span><br><span class="line">    config.plugins.push(</span><br><span class="line">      <span class="keyword">new</span> TerserPlugin(&#123;</span><br><span class="line">        <span class="comment">// 是否开启多线程</span></span><br><span class="line">        parallel: <span class="literal">true</span>,</span><br><span class="line">        terserOptions: &#123;</span><br><span class="line">          <span class="comment">// 去除打印</span></span><br><span class="line">          compress: &#123;</span><br><span class="line">            warnings: <span class="literal">false</span>,</span><br><span class="line">            drop_console: <span class="literal">true</span>,</span><br><span class="line">            drop_debugger: <span class="literal">true</span>,</span><br><span class="line">            pure_funcs: [<span class="string">'console.log'</span>]</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="comment">// 去除注释，当设置为true时，会保留注释</span></span><br><span class="line">          <span class="comment">// 当然这个默认是false</span></span><br><span class="line">          output: &#123;</span><br><span class="line">            comments: <span class="literal">false</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><a id="more"></a>]]></content>
      
      
      <categories>
          
          <category> npm 常用组件库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm 组件库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React学习记录</title>
      <link href="/2019/04/19/React%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
      <url>/2019/04/19/React%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h3 id="运行yarn-eject出现问题"><a href="#运行yarn-eject出现问题" class="headerlink" title="运行yarn eject出现问题"></a>运行yarn eject出现问题</h3><pre><code>解决：运行`npm install`, 或者删除node_modules后重新运行 `npm/cnpm install`</code></pre><h3 id="React配置文件释放后按需导入antd"><a href="#React配置文件释放后按需导入antd" class="headerlink" title="React配置文件释放后按需导入antd"></a>React配置文件释放后按需导入antd</h3><p>在运行yarn eject 后按需导入antd:</p><ol><li>运行 <code>yarn add babel-plugin-import</code></li><li><p>在package.json中添加 </p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">"babel": &#123;</span><br><span class="line">  "presets": [</span><br><span class="line">    <span class="string">"react-app"</span></span><br><span class="line">  ],</span><br><span class="line">  "plugins": [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">"import"</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"libraryName"</span>: <span class="string">"antd"</span>,</span><br><span class="line">        <span class="attr">"style"</span>: <span class="string">"css"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li></li></ol>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>饿了么demo的一些笔记</title>
      <link href="/2019/03/12/%E9%A5%BF%E4%BA%86%E4%B9%88demo%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/03/12/%E9%A5%BF%E4%BA%86%E4%B9%88demo%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="饿了么demo的一些笔记"><a href="#饿了么demo的一些笔记" class="headerlink" title="饿了么demo的一些笔记"></a>饿了么demo的一些笔记</h1><p>  1.取得对象key相同的value和 例：<br>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">'a'</span>, <span class="attr">num</span>: <span class="number">2</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">'a'</span>, <span class="attr">num</span>: <span class="number">2</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">'a'</span>, <span class="attr">num</span>: <span class="number">2</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">'b'</span>, <span class="attr">num</span>: <span class="number">8</span> &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">var</span> newarr = &#123;<span class="attr">a</span>:<span class="number">6</span>, <span class="attr">b</span>:<span class="number">8</span>&#125;</span><br><span class="line"><span class="comment">// 代码实现</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> arr) &#123;</span><br><span class="line">  <span class="keyword">let</span> [ id, num ] = [ item.id, item.num];</span><br><span class="line">  <span class="comment">/* </span></span><br><span class="line"><span class="comment">    hasOwnProperty() 判断对象是否拥有某属性</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">if</span>(obj.hasOwnProperty(id))&#123;</span><br><span class="line">    obj[id] += num;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    obj[id] = num;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj)</span><br></pre></td></tr></table></figure></p><ol start="2"><li><p>把对象存进数组，如果存在相同id则数量加1（购物车）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> shopcar = [];</span><br><span class="line"><span class="keyword">let</span> flag = <span class="literal">false</span>;</span><br><span class="line">shopcar.some(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.id === val.id) &#123;</span><br><span class="line">        item.quantity += <span class="number">1</span></span><br><span class="line">        flag = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">if</span> (!flag) &#123;</span><br><span class="line">    state.shopcar.push(val)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> vue JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue实现组件按需加载</title>
      <link href="/2019/02/26/Vue%E5%AE%9E%E7%8E%B0%E7%BB%84%E4%BB%B6%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD/"/>
      <url>/2019/02/26/Vue%E5%AE%9E%E7%8E%B0%E7%BB%84%E4%BB%B6%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue实现组件按需加载"><a href="#Vue实现组件按需加载" class="headerlink" title="Vue实现组件按需加载"></a>Vue实现组件按需加载</h1>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue中跳转页面返回原页面回到记忆位置</title>
      <link href="/2019/02/26/Vue%E4%B8%AD%E8%B7%B3%E8%BD%AC%E9%A1%B5%E9%9D%A2%E8%BF%94%E5%9B%9E%E5%8E%9F%E9%A1%B5%E9%9D%A2%E5%9B%9E%E5%88%B0%E8%AE%B0%E5%BF%86%E4%BD%8D%E7%BD%AE/"/>
      <url>/2019/02/26/Vue%E4%B8%AD%E8%B7%B3%E8%BD%AC%E9%A1%B5%E9%9D%A2%E8%BF%94%E5%9B%9E%E5%8E%9F%E9%A1%B5%E9%9D%A2%E5%9B%9E%E5%88%B0%E8%AE%B0%E5%BF%86%E4%BD%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue中跳转页面返回原页面回到记忆位置"><a href="#Vue中跳转页面返回原页面回到记忆位置" class="headerlink" title="Vue中跳转页面返回原页面回到记忆位置"></a>Vue中跳转页面返回原页面回到记忆位置</h1><ol><li><p>修改 router-view</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition name=<span class="string">"router-fade"</span> mode=<span class="string">"out-in"</span>&gt;</span><br><span class="line">    <span class="comment">// 在这里显示被缓存的页面</span></span><br><span class="line">    &lt;keep-alive&gt;</span><br><span class="line">        &lt;router-view v-<span class="keyword">if</span>=<span class="string">"$route.meta.keepAlive"</span>&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/keep-alive&gt;</span><br><span class="line">&lt;/transition&gt;</span><br><span class="line">&lt;transition name=<span class="string">"router-fade"</span> mode=<span class="string">"out-in"</span>&gt;</span><br><span class="line">    <span class="comment">// 在这里显示不需要被缓存的页面</span></span><br><span class="line">    &lt;router-view v-<span class="keyword">if</span>=<span class="string">"!$route.meta.keepAlive"</span>&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/transition&gt;</span><br></pre></td></tr></table></figure></li><li><p>修改vueRouter的配置文件index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// </span></span><br><span class="line">&#123;</span><br><span class="line">    path: <span class="string">'/home'</span>,</span><br><span class="line">    name: <span class="string">'home'</span>,</span><br><span class="line">    component: home,</span><br><span class="line">    meta: &#123;</span><br><span class="line">        title: <span class="string">'home'</span>,</span><br><span class="line">        keepAlive: <span class="literal">true</span> <span class="comment">// 需要被缓存</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// mode: 'history',     // vueRouter默认为hash模式</span></span><br><span class="line">scrollBehavior (to, <span class="keyword">from</span>, savedPosition) &#123;</span><br><span class="line">    <span class="keyword">if</span> (savedPosition) &#123;</span><br><span class="line">        <span class="keyword">return</span> savedPosition</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">from</span>.meta.keepAlive) &#123;</span><br><span class="line">            <span class="keyword">from</span>.meta.savedPosition = <span class="built_in">window</span>.pageYOffset || <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: to.meta.savedPosition ||<span class="number">0</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript防抖函数与节流函数</title>
      <link href="/2019/02/04/JavaScript%E9%98%B2%E6%8A%96%E5%87%BD%E6%95%B0%E4%B8%8E%E8%8A%82%E6%B5%81%E5%87%BD%E6%95%B0/"/>
      <url>/2019/02/04/JavaScript%E9%98%B2%E6%8A%96%E5%87%BD%E6%95%B0%E4%B8%8E%E8%8A%82%E6%B5%81%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p>DOM 操作是非常耗费性能的，如果在监听中，做了一些 DOM 操作，那无疑会给浏览器造成大量性能损失，我们可以通过一些操作来减少 DOM 操作</p><h1 id="防抖函数"><a href="#防抖函数" class="headerlink" title="防抖函数"></a>防抖函数</h1><h5 id="定义：函数调用-n-秒后才会执行，如果函-数在-n-秒内被调用的话则函数不执行，重新计算执行时间-规定一定时间内，时间触发的次数"><a href="#定义：函数调用-n-秒后才会执行，如果函-数在-n-秒内被调用的话则函数不执行，重新计算执行时间-规定一定时间内，时间触发的次数" class="headerlink" title="定义：函数调用 n 秒后才会执行，如果函 数在 n 秒内被调用的话则函数不执行，重新计算执行时间(规定一定时间内，时间触发的次数)"></a>定义：函数调用 n 秒后才会执行，如果函 数在 n 秒内被调用的话则函数不执行，重新计算执行时间(规定一定时间内，时间触发的次数)</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">var</span> timer = <span class="literal">false</span>;</span><br><span class="line"><span class="built_in">window</span>.onscroll = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 函数防抖</span></span><br><span class="line">  clearTimeout(timer); <span class="comment">// 清除未执行的代码，重置回初始化状态</span></span><br><span class="line">  timer = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"函数防抖"</span>);</span><br><span class="line">  &#125;, <span class="number">300</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure> <a id="more"></a><h6 id="防抖函数封装"><a href="#防抖函数封装" class="headerlink" title="防抖函数封装"></a>防抖函数封装</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**防抖函数封装**/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">method, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> context = <span class="keyword">this</span>,</span><br><span class="line">      args = <span class="built_in">arguments</span>;</span><br><span class="line">    clearTimeout(timer);</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      method.apply(context, args);</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="节流函数"><a href="#节流函数" class="headerlink" title="节流函数"></a>节流函数</h1><h5 id="定义：触发函数事件后，短时间间隔内无法连续调用，只有上一次函数执行后，过了规定的时间间隔，才能进行下一次的函数调用（只允许一个函数在-X-毫秒内执行一次）。"><a href="#定义：触发函数事件后，短时间间隔内无法连续调用，只有上一次函数执行后，过了规定的时间间隔，才能进行下一次的函数调用（只允许一个函数在-X-毫秒内执行一次）。" class="headerlink" title="定义：触发函数事件后，短时间间隔内无法连续调用，只有上一次函数执行后，过了规定的时间间隔，才能进行下一次的函数调用（只允许一个函数在 X 毫秒内执行一次）。"></a>定义：触发函数事件后，短时间间隔内无法连续调用，只有上一次函数执行后，过了规定的时间间隔，才能进行下一次的函数调用（只允许一个函数在 X 毫秒内执行一次）。</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数节流</span></span><br><span class="line"><span class="keyword">var</span> canRun = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">window</span>.onscroll = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!canRun) &#123;</span><br><span class="line">    <span class="comment">// 判断是否已空闲，如果在执行中，则直接return</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  canRun = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">var</span> timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> scrollTop =</span><br><span class="line">      <span class="built_in">document</span>.body.scrollTop || <span class="built_in">document</span>.documentElement.scrollTop;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"滚动位置："</span> + scrollTop);</span><br><span class="line">    canRun = <span class="literal">true</span>;</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//只有当 canRun 为 ture 时才可执行，当执行完毕时 释放当前任务，允许下一个任务执行</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue的slot内容分发</title>
      <link href="/2019/02/04/Vue%E7%9A%84slot%E5%86%85%E5%AE%B9%E5%88%86%E5%8F%91/"/>
      <url>/2019/02/04/Vue%E7%9A%84slot%E5%86%85%E5%AE%B9%E5%88%86%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<h2 id="单个-slot"><a href="#单个-slot" class="headerlink" title="单个 slot"></a>单个 slot</h2><p>在 children 这个标签里放 Dom，Vue 不会显示，类似于 React</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父</span></span><br><span class="line">&lt;children&gt;</span><br><span class="line">&lt;span&gt;<span class="number">12345</span>&lt;<span class="regexp">/span&gt;/</span><span class="regexp">/这边不会显示</span></span><br><span class="line"><span class="regexp">&lt;/</span>children&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//子</span></span><br><span class="line">components: &#123;</span><br><span class="line">children: &#123;</span><br><span class="line">    template: <span class="string">"&lt;button&gt;为了明确作用范围，所以使用button标签&lt;/button&gt;"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <a id="more"></a><p>你需要写成这个样子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">children: &#123;</span><br><span class="line">  template: <span class="string">"&lt;button&gt;&lt;slot&gt;&lt;/slot&gt;为了明确作用范围，所以使用button标签&lt;button&gt;"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以给 slot 添加属性</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">//父</span></span><br><span class="line">&lt;children&gt;</span><br><span class="line">  &lt;span slot=<span class="string">"name1"</span>&gt;<span class="number">12345</span>&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>children&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//子</span></span><br><span class="line">components: &#123;</span><br><span class="line">  children: &#123;</span><br><span class="line">    template: <span class="string">"&lt;button&gt;</span></span><br><span class="line"><span class="string">            &lt;slot name="</span>name1<span class="string">"&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">            button标签</span></span><br><span class="line"><span class="string">          &lt;/button&gt;"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
